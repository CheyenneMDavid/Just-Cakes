{% extends 'base.html' %} {% block content %}

<!-- Purpose of this template is to display user's/customer's profile.  It also provides them with buttons to update it, delete it or to return to the homepage. -->

<main class="container-fluid">
	<section class="row">
		<article class="col-md-12">
			<div class="card">
				<header class="card-header">
					<h4>Customer Profile Details</h4>
				</header>
				<div class="card-body">
					{% if account %}

					<!-- Checks if account exists and displays the details                     -->
					<p class="card-text">
						<strong>User Name:</strong> {{ account.user.username }}<br />
						<strong>Name:</strong> {{ account.first_name }} {{
						account.last_name }}<br />
						<strong>Phone:</strong> {{ account.phone }}<br />
						<strong>Address Line 1:</strong> {{ account.address_line_1 }}<br />
						<strong>Address Line 2:</strong> {{ account.address_line_2 }}<br />
						<strong>City:</strong> {{ account.city }}<br />
						<strong>County:</strong> {{ account.county }}<br />
						<strong>Post Code:</strong> {{ account.post_code }}<br />
						<strong>Registration Date:</strong> {{ account.registration_date }}
					</p>
					{% else %}
					<!-- Although user accounts are created when a user registers.  But if there's no user account associated with the user name then it says so -->
					<p class="card-text">
						Customer Account does not exist for the logged-in user.
					</p>
					{% endif %}
				</div>

				<!-- Using a footer element to house the actionable buttons that are associated with the above card. -->
				<footer class="card-footer text-muted">
					<!-- Button for going back to the Homepage -->
					<a href="{% url 'index' %}" class="btn custom-button-color">Back to Home</a>
					<!-- Button to update the profile -->
					<a href="{% url 'update_customer_profile' pk=request.user.customeraccount.pk %}"
						class="btn custom-button-color">Update My Profile</a>
					<!-- Button for deletion -->
					<a href="{% url 'delete_customer_profile' pk=account.pk %}"
						class="btn custom-button-color">Delete my account</a>
				</footer>
			</div>
		</article>
	</section>
</main>
{% endblock %}